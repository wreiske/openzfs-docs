

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Message ID: ZFS-8000-8A &mdash; OpenZFS  documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/theme_overrides.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/mandoc.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Message ID: ZFS-8000-9P" href="../ZFS-8000-9P/index.html" />
    <link rel="prev" title="Message ID: ZFS-8000-72" href="../ZFS-8000-72/index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #29667e" >
          

          
            <a href="../../index.html">
          

          
            
            <img src="../../_static/logo_main.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../Getting Started/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Project and Community/index.html">Project and Community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Developer Resources/index.html">Developer Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Performance and Tuning/index.html">Performance and Tuning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Basic Concepts/index.html">Basic Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../man/index.html">Man Pages</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">ZFS Messages</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../ZFS-8000-14/index.html">Message ID: ZFS-8000-14</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ZFS-8000-2Q/index.html">Message ID: ZFS-8000-2Q</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ZFS-8000-3C/index.html">Message ID: ZFS-8000-3C</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ZFS-8000-4J/index.html">Message ID: ZFS-8000-4J</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ZFS-8000-5E/index.html">Message ID: ZFS-8000-5E</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ZFS-8000-6X/index.html">Message ID: ZFS-8000-6X</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ZFS-8000-72/index.html">Message ID: ZFS-8000-72</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Message ID: ZFS-8000-8A</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#corrupted-data">Corrupted data</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ZFS-8000-9P/index.html">Message ID: ZFS-8000-9P</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ZFS-8000-A5/index.html">Message ID: ZFS-8000-A5</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ZFS-8000-ER/index.html">Message ID: ZFS-8000-ER</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ZFS-8000-EY/index.html">Message ID: ZFS-8000-EY</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ZFS-8000-HC/index.html">Message ID: ZFS-8000-HC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ZFS-8000-JQ/index.html">Message ID: ZFS-8000-JQ</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ZFS-8000-K4/index.html">Message ID: ZFS-8000-K4</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../License.html">License</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">OpenZFS</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../index.html">ZFS Messages</a> &raquo;</li>
        
      <li>Message ID: ZFS-8000-8A</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            
              <a href="https://github.com/openzfs/openzfs-docs/blob/master/docs/msg/ZFS-8000-8A/index.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="message-id-zfs-8000-8a">
<h1>Message ID: ZFS-8000-8A<a class="headerlink" href="#message-id-zfs-8000-8a" title="Permalink to this headline">¶</a></h1>
<div class="section" id="corrupted-data">
<h2>Corrupted data<a class="headerlink" href="#corrupted-data" title="Permalink to this headline">¶</a></h2>
<table class="docutils align-default">
<colgroup>
<col style="width: 35%" />
<col style="width: 65%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Type:</strong></p></td>
<td><p>Error</p></td>
</tr>
<tr class="row-even"><td><p><strong>Severity:</strong></p></td>
<td><p>Critical</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Description:</strong></p></td>
<td><p>A file or directory could not be read due to
corrupt data.</p></td>
</tr>
<tr class="row-even"><td><p><strong>Automated Response:</strong></p></td>
<td><p>No automated response will be taken.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Impact:</strong></p></td>
<td><p>The file or directory is unavailable.</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Suggested Action for System Administrator</p>
<p>Run <code class="docutils literal notranslate"><span class="pre">zpool</span> <span class="pre">status</span> <span class="pre">-x</span></code> to determine which pool is damaged:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span># zpool status -x
  pool: test
 state: ONLINE
status: One or more devices has experienced an error and no valid replicas
        are available.  Some filesystem data is corrupt, and applications
        may have been affected.
action: Destroy the pool and restore from backup.
   see: https://openzfs.github.io/openzfs-docs/msg/ZFS-8000-8A
 scrub: none requested
config:

        NAME                  STATE     READ WRITE CKSUM
        test                  ONLINE       0     0     2
          c0t0d0              ONLINE       0     0     2
          c0t0d1              ONLINE       0     0     0

errors: 1 data errors, use &#39;-v&#39; for a list
</pre></div>
</div>
<p>Unfortunately, the data cannot be repaired, and the only choice to
repair the data is to restore the pool from backup.  Applications
attempting to access the corrupted data will get an error (EIO), and
data may be permanently lost.</p>
<p>The list of affected files can be retrieved by using the <code class="docutils literal notranslate"><span class="pre">-v</span></code> option to
<code class="docutils literal notranslate"><span class="pre">zpool</span> <span class="pre">status</span></code>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span># zpool status -xv
  pool: test
 state: ONLINE
status: One or more devices has experienced an error and no valid replicas
        are available.  Some filesystem data is corrupt, and applications
        may have been affected.
action: Destroy the pool and restore from backup.
   see: https://openzfs.github.io/openzfs-docs/msg/ZFS-8000-8A
 scrub: none requested
config:

        NAME                  STATE     READ WRITE CKSUM
        test                  ONLINE       0     0     2
          c0t0d0              ONLINE       0     0     2
          c0t0d1              ONLINE       0     0     0

errors: Permanent errors have been detected in the following files:

        /export/example/foo
</pre></div>
</div>
<p>Damaged files may or may not be able to be removed depending on the
type of corruption.  If the corruption is within the plain data, the
file should be removable.  If the corruption is in the file metadata,
then the file cannot be removed, though it can be moved to an
alternate location.  In either case, the data should be restored from
a backup source.  It is also possible for the corruption to be within
pool-wide metadata, resulting in entire datasets being unavailable.
If this is the case, the only option is to destroy the pool and
re-create the datasets from backup.</p>
<p class="rubric">Details</p>
<p>The Message ID: <code class="docutils literal notranslate"><span class="pre">ZFS-8000-8A</span></code> indicates corrupted data exists in
the current pool.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="../ZFS-8000-9P/index.html" class="btn btn-neutral float-right" title="Message ID: ZFS-8000-9P" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="../ZFS-8000-72/index.html" class="btn btn-neutral float-left" title="Message ID: ZFS-8000-72" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020, OpenZFS.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>